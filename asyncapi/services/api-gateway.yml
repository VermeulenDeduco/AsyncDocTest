asyncapi: 3.0.0
info:
  title: API Gateway
  version: 1.0.0
  description: >
    The entry point for all external client requests. It translates REST/HTTP
    requests into internal events.

channels:
  orderPlacement:
    address: 'ecommerce/order/placed'
    description: The channel where new order placement events are published.
    messages:
      OrderPlaced:
        $ref: '#/components/messages/OrderPlaced'

operations:
  placeOrder:
    action: send
    channel:
      $ref: '#/channels/orderPlacement'
    messages:
      - $ref: '#/channels/orderPlacement/messages/OrderPlaced'

components:
  messages:
    OrderPlaced:
      summary: An event indicating a new order has been placed by a customer.
      payload:
        $ref: '../common/schemas/OrderPayload.yml'